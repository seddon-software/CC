set -v
# Use the LD_LIBRARY_PATH environment variable to locate the shared library
# This works, but is fragile (the environment variable must be set correctly)
# This method does not require access to /usr/lib
cd mylib
gcc -shared -fPIC -o libf1.so f1.c


# set up LD_LIBRARY_PATH
cd ../src
export LD_LIBRARY_PATH=../mylib
gcc f_main.c f2.c f3.c -L../mylib -lf1 -o f.exe

# run the program
f.exe



ldd f.exe




